{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "UI",
      "request": "launch",
      "type": "chrome", // Launches Chrome at the specified URL for debugging
      "url": "http://localhost:3001",
      "webRoot": "${workspaceFolder}/frontend",
      "preLaunchTask": "debug-frontend",
      "postDebugTask": "end-debug-session",
    },
    {
      "name": "REST API (swagger)",
      "type": "coreclr",
      "request": "launch",
      "program": "${workspaceFolder}/backend/.artifacts/bin/Rest/Rest.dll",
      "args": [],
      "cwd": "${workspaceFolder}/backend/Rest",
      "serverReadyAction": {
        "pattern": "\\bNow listening on:\\s+https?://.+:([0-9]+)", // Pattern to detect when the server is ready
        "action": "openExternally",
        "uriFormat": "http://localhost:%s/swagger", // Opens Swagger UI in the browser when the server is ready
      },
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development",
        "ASPNETCORE_HTTP_PORTS": "8081",
        "DATABASE_PATH": "${workspaceFolder}/debug/database.db",
        "LOG_DIRECTORY": "${workspaceFolder}/debug/logs",
        "FRONTEND_ORIGIN": "http://localhost:3001"
      },
      "preLaunchTask": "debug-backend",
      "postDebugTask": "end-debug-session",
    },
    {
      "name": "REST API (UI)",
      "type": "coreclr",
      "request": "launch",
      "program": "${workspaceFolder}/backend/.artifacts/bin/Rest/Rest.dll",
      "args": [],
      "cwd": "${workspaceFolder}/backend/Rest",
      "serverReadyAction": {
        "pattern": "\\bNow listening on:\\s+https?://.+:", // Pattern to detect when the server is ready
        "action": "openExternally",
        "uriFormat": "http://localhost:3001", // Opens the frontend UI in the browser when the server is ready
      },
      "env": {
        "ASPNETCORE_ENVIRONMENT": "Development",
        "ASPNETCORE_HTTP_PORTS": "8081",
        "DATABASE_PATH": "${workspaceFolder}/debug/database.db",
        "LOG_DIRECTORY": "${workspaceFolder}/debug/logs",
        "FRONTEND_ORIGIN": "http://localhost:3001"
      },
      "preLaunchTask": "debug-backend-with-frontend",
      "postDebugTask": "end-debug-session",
    },
  ]
}
